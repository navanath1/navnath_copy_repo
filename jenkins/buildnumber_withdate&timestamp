pipeline {
    agent any
    stages {
        stage('build_status') {
            steps {
                script {
                    // Set the offset value
                    def offset = "-"

                    // Get the current date and time in the desired format
                    def dateTime = new Date().format("yyyy-MM-dd HH:mm:ss")

                    // Check the current build result
                    if (currentBuild.result == null || currentBuild.result == 'SUCCESS' ) {
                        // Set the display name for a successful build
                        currentBuild.displayName =  (currentBuild.number + offset) + "pass" + " - " + dateTime
                    } else {
                        // Set the display name for a failed build
                        currentBuild.displayName =  (currentBuild.number + offset) + "fail" + " - " + dateTime
                    }
                    
                    // Print the custom display name to the console
                    echo "Custom build display name: ${currentBuild.displayName}"
                    sh'''
                    echo 'hello world'
                    '''
                }
            }
        }
    }
}
   
